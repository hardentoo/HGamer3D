# (c) 2011-2014 Peter Althainz
# 
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
# 
#     http://www.apache.org/licenses/LICENSE-2.0
# 
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
# 


# scons file to build HGamer3DOgre library, version 0.5.0


# set environment
#################
from os.path import expanduser, exists
import os, sys
home = expanduser("~")
env = Environment() 
env["ENV"]["PATH"] = os.environ.get("PATH")
env["ENV"]["HOME"] = os.environ.get("HOME")

libpath = home + "/.HGamer3D/lib"

if env["PLATFORM"] == "win32":
   # on windows, create new environment, which finds MS C-Compiler
   env = Environment(TARGET_ARCH="x86", MSVC_VERSION="10.0")
   env.MergeFlags({"CCFLAGS" : "/DWIN32 /D_WIN32 /DHGamer3DOgre050_EXPORTS /EHsc /MD"})

# set other compile parameters
##############################

if env["PLATFORM"] == "win32":

   env.Append(CPPPATH=["include","../Deps/include","../Deps/include/OgreMain","../Deps/include/boost","../Deps/include/BuildConfig"])
   env.Append(LIBPATH=["lib","../Deps/lib","../Deps/lib","../Deps/include/boost/lib"])
   env.SharedLibrary("hg3dogre050", ["ClassAnimation.cpp","ClassAnimationState.cpp","ClassAnimationStateSet.cpp","ClassAnimationTrack.cpp","ClassArchive.cpp","ClassArchiveManager.cpp","ClassBillboard.cpp","ClassBillboardChain.cpp","ClassBillboardChainFactory.cpp","ClassBillboardSet.cpp","ClassBillboardSetFactory.cpp","ClassBone.cpp","ClassCamera.cpp","ClassConfigFile.cpp","ClassControllerManager.cpp","ClassEntity.cpp","ClassEntityFactory.cpp","ClassException.cpp","ClassFrustum.cpp","ClassHG3DUtilities.cpp","ClassLight.cpp","ClassLightFactory.cpp","ClassLog.cpp","ClassLogManager.cpp","ClassManualObject.cpp","ClassManualObjectFactory.cpp","ClassManualObjectSection.cpp","ClassMaterial.cpp","ClassMaterialManager.cpp","ClassMesh.cpp","ClassMeshManager.cpp","ClassMovableObject.cpp","ClassMovableObjectFactory.cpp","ClassMultiRenderTarget.cpp","ClassNode.cpp","ClassNodeAnimationTrack.cpp","ClassNumericAnimationTrack.cpp","ClassPtr.cpp","ClassRenderable.cpp","ClassRenderSystem.cpp","ClassRenderTarget.cpp","ClassRenderTexture.cpp","ClassRenderWindow.cpp","ClassResource.cpp","ClassResourceGroupManager.cpp","ClassResourceManager.cpp","ClassRoot.cpp","ClassSceneManager.cpp","ClassSceneManagerFactory.cpp","ClassSceneNode.cpp","ClassSkeleton.cpp","ClassSkeletonManager.cpp","ClassTextureManager.cpp","ClassTimeIndex.cpp","ClassVertexAnimationTrack.cpp","ClassViewport.cpp","ClassWindowEventUtilities.cpp","HG3DUtilities.cpp"], LIBS = ["OgreMain","libboost_thread-vc100-mt-1_49"])
   env.Alias('install', libpath)
   env.Install(libpath, "hg3dogre050.dll")

else:
   env.Append(CPPPATH=["include","../Deps/include","../Deps/include/OgreMain","../Deps/include/boost","../Deps/include/BuildConfig"])
   env.Append(LIBPATH=["lib","../Deps/lib","../Deps/lib","../Deps/include/boost/lib"])
   env.SharedLibrary("hg3dogre050", ["ClassAnimation.cpp","ClassAnimationState.cpp","ClassAnimationStateSet.cpp","ClassAnimationTrack.cpp","ClassArchive.cpp","ClassArchiveManager.cpp","ClassBillboard.cpp","ClassBillboardChain.cpp","ClassBillboardChainFactory.cpp","ClassBillboardSet.cpp","ClassBillboardSetFactory.cpp","ClassBone.cpp","ClassCamera.cpp","ClassConfigFile.cpp","ClassControllerManager.cpp","ClassEntity.cpp","ClassEntityFactory.cpp","ClassException.cpp","ClassFrustum.cpp","ClassHG3DUtilities.cpp","ClassLight.cpp","ClassLightFactory.cpp","ClassLog.cpp","ClassLogManager.cpp","ClassManualObject.cpp","ClassManualObjectFactory.cpp","ClassManualObjectSection.cpp","ClassMaterial.cpp","ClassMaterialManager.cpp","ClassMesh.cpp","ClassMeshManager.cpp","ClassMovableObject.cpp","ClassMovableObjectFactory.cpp","ClassMultiRenderTarget.cpp","ClassNode.cpp","ClassNodeAnimationTrack.cpp","ClassNumericAnimationTrack.cpp","ClassPtr.cpp","ClassRenderable.cpp","ClassRenderSystem.cpp","ClassRenderTarget.cpp","ClassRenderTexture.cpp","ClassRenderWindow.cpp","ClassResource.cpp","ClassResourceGroupManager.cpp","ClassResourceManager.cpp","ClassRoot.cpp","ClassSceneManager.cpp","ClassSceneManagerFactory.cpp","ClassSceneNode.cpp","ClassSkeleton.cpp","ClassSkeletonManager.cpp","ClassTextureManager.cpp","ClassTimeIndex.cpp","ClassVertexAnimationTrack.cpp","ClassViewport.cpp","ClassWindowEventUtilities.cpp","HG3DUtilities.cpp"], LIBS = ["OgreMain","OgrePaging","OgreProperty","OgreRTShaderSystem","OgreTerrain"])
   env.Alias('install', libpath)
   env.Install(libpath, "libhg3dogre050.so")


